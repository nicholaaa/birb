(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[121],{1010:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/add",function(){return n(5510)}])},1029:function(e,t){"use strict";t.Z={src:"/_next/static/media/blank-thumbnail.4c77c2c0.jpg",height:415,width:622,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAUACAMBIgACEQEDEQH/xAAnAAEBAAAAAAAAAAAAAAAAAAAABwEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAAoIP/xAAZEAACAwEAAAAAAAAAAAAAAAABEgARE1L/2gAIAQEAAT8AcZKgvqf/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oACAECAQE/AH//xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oACAEDAQE/AH//2Q==",blurWidth:8,blurHeight:5}},3025:function(e,t,n){"use strict";n.d(t,{G:function(){return g},P:function(){return x}});var i=n(5893),a=n(7294),l=n(5675),r=n.n(l),o=n(7747),s=n(1293),d=n(4880),u=n(5541),c=n(9778),A=n(5239),p=n(4859),h=n(6205),v=n(4346),m=n(917),f=n(1029);let g=e=>{let{name:t,species:n,family:l,nativity:m,type:g,thumbnail:x}=e,[y,j]=(0,a.useState)(!1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o.xu,{w:"100%",textAlign:"center",children:[(0,i.jsx)(o.xu,{cursor:"pointer",onClick:()=>j(!0),children:(0,i.jsx)(r(),{loader:e=>{let{src:t}=e;return t||f.Z},src:x,alt:t,width:"400",height:"225",className:"grid-item-thumbnail",loading:"lazy",style:{objectFit:"cover"}})}),(0,i.jsx)(s.x,{mt:2,fontWeight:"bold",children:t}),(0,i.jsxs)(s.x,{fontSize:14,children:[l," | ",n]}),(0,i.jsx)(d.C,{colorScheme:"native"===m?"green":"non-native"===m?"red":"purple",mr:2,children:m}),(0,i.jsx)(d.C,{colorScheme:"bird"===g?"blue":"pink",children:g})]}),(0,i.jsxs)(u.u_,{isOpen:y,onClose:()=>j(!1),size:"xl",children:[(0,i.jsx)(c.Z,{}),(0,i.jsxs)(A.h,{children:[(0,i.jsx)(p.x,{children:(0,i.jsx)(s.x,{mt:2,fontWeight:"bold",children:t})}),(0,i.jsx)(h.o,{}),(0,i.jsx)(v.f,{children:(0,i.jsx)(r(),{loader:e=>{let{src:t}=e;return t||f.Z},src:x,alt:t,width:"800",height:"450",loading:"lazy",style:{objectFit:"cover"}})})]})]})]})},x=()=>(0,i.jsx)(m.xB,{styles:"\n      .grid-item-thumbnail {\n        border-radius: 12px;\n        width: 100%;\n        height: auto;\n        object-fit: cover;\n      }\n    "})},6741:function(e,t,n){"use strict";var i=n(5893),a=n(7340),l=n(9008),r=n.n(l),o=n(3025);let s={hidden:{opacity:0,x:0,y:20},enter:{opacity:1,x:0,y:0},exit:{opacity:0,x:-0,y:20}};t.Z=e=>{let{children:t,title:n}=e,l="".concat(n," - Wayne Quah");return(0,i.jsx)(a.E.article,{initial:"hidden",animate:"enter",exit:"exit",variants:s,transition:{duration:.4,type:"easeInOut"},style:{position:"relative"},children:(0,i.jsxs)(i.Fragment,{children:[n&&(0,i.jsx)(r(),{children:(0,i.jsx)("title",{children:l})}),t,(0,i.jsx)(o.P,{})]})})}},5510:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return G},default:function(){return T}});var i=n(5893),a=n(7963),l=n(2338),r=n(2757),o=n(9289),s=n(5970),d=n(5418),u=n(1025),c=n(5432),A=n(1103),p=n(7294),h=n(6554),v=n(9653),[m,f]=(0,n(5227).k)({name:"RadioGroupContext",strict:!1}),g=(0,h.G)((e,t)=>{let{colorScheme:n,size:a,variant:l,children:r,className:o,isDisabled:s,isFocusable:d,...u}=e,{value:h,onChange:f,getRootProps:g,name:x,htmlProps:y}=function(e={}){let{onChange:t,value:n,defaultValue:i,name:a,isDisabled:l,isFocusable:r,isNative:o,...s}=e,[d,u]=(0,p.useState)(i||""),h=void 0!==n,v=h?n:d,m=(0,p.useRef)(null),f=(0,p.useCallback)(()=>{let e=m.current;if(!e)return;let t="input:not(:disabled):checked",n=e.querySelector(t);if(n){n.focus();return}t="input:not(:disabled)";let i=e.querySelector(t);null==i||i.focus()},[]),g=(0,p.useId)(),x=`radio-${g}`,y=a||x,j=(0,p.useCallback)(e=>{let n=e&&(0,c.Kn)(e)&&(0,c.Kn)(e.target)?e.target.value:e;h||u(n),null==t||t(String(n))},[t,h]);return{getRootProps:(0,p.useCallback)((e={},t=null)=>({...e,ref:(0,A.lq)(t,m),role:"radiogroup"}),[]),getRadioProps:(0,p.useCallback)((e={},t=null)=>{let n=o?"checked":"isChecked";return{...e,ref:t,name:y,[n]:null!=v?e.value===v:void 0,onChange(e){j(e)},"data-radiogroup":!0}},[o,y,j,v]),name:y,ref:m,focus:f,setValue:u,value:v,onChange:j,isDisabled:l,isFocusable:r,htmlProps:s}}(u),j=(0,p.useMemo)(()=>({name:x,size:a,onChange:f,colorScheme:n,value:h,variant:l,isDisabled:s,isFocusable:d}),[x,a,f,n,h,l,s,d]);return(0,i.jsx)(m,{value:j,children:(0,i.jsx)(v.m.div,{...g(y,t),className:(0,c.cx)("chakra-radio-group",o),children:r})})});g.displayName="RadioGroup";var x=n(5281),y=(0,h.G)((e,t)=>(0,i.jsx)(x.K,{align:"center",...e,direction:"row",ref:t}));y.displayName="HStack";var j=()=>"undefined"!=typeof document,b=!1,C=null,w=!1,I=!1,k=new Set;function E(e,t){k.forEach(n=>n(e,t))}var P="undefined"!=typeof window&&null!=window.navigator&&/^Mac/.test(window.navigator.platform);function S(e){w=!0,e.metaKey||!P&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key||(C="keyboard",E("keyboard",e))}function _(e){if(C="pointer","mousedown"===e.type||"pointerdown"===e.type){w=!0;let t=e.composedPath?e.composedPath()[0]:e.target,n=!1;try{n=t.matches(":focus-visible")}catch{}n||E("pointer",e)}}function N(e){(0===e.mozInputSource&&e.isTrusted||0===e.detail&&!e.pointerType)&&(w=!0,C="virtual")}function B(e){e.target!==window&&e.target!==document&&(w||I||(C="virtual",E("virtual",e)),w=!1,I=!1)}function L(){w=!1,I=!0}function M(){return"pointer"!==C}var D={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function R(e){e.preventDefault(),e.stopPropagation()}var Q=n(7030),F=n(3179),z=(0,h.G)((e,t)=>{var n;let a=f(),{onChange:l,value:r}=e,o=(0,Q.jC)("Radio",{...a,...e}),{spacing:d="0.5rem",children:u,isDisabled:A=null==a?void 0:a.isDisabled,isFocusable:h=null==a?void 0:a.isFocusable,inputProps:m,...g}=(0,F.Lr)(e),x=e.isChecked;(null==a?void 0:a.value)!=null&&null!=r&&(x=a.value===r);let y=l;(null==a?void 0:a.onChange)&&null!=r&&(y=(0,c.PP)(a.onChange,l));let C=null!=(n=null==e?void 0:e.name)?n:null==a?void 0:a.name,{getInputProps:I,getCheckboxProps:E,getLabelProps:P,getRootProps:z,htmlProps:O}=function(e={}){let{defaultChecked:t,isChecked:n,isFocusable:i,isDisabled:a,isReadOnly:l,isRequired:r,onChange:o,isInvalid:d,name:u,value:A,id:h,"data-radiogroup":v,"aria-describedby":m,...g}=e,x=`radio-${(0,p.useId)()}`,y=(0,s.NJ)(),C=f(),I=y&&!(C||v)?y.id:x;I=null!=h?h:I;let E=null!=a?a:null==y?void 0:y.isDisabled,P=null!=l?l:null==y?void 0:y.isReadOnly,Q=null!=r?r:null==y?void 0:y.isRequired,F=null!=d?d:null==y?void 0:y.isInvalid,[z,O]=(0,p.useState)(!1),[q,U]=(0,p.useState)(!1),[J,K]=(0,p.useState)(!1),[Z,G]=(0,p.useState)(!1),[T,X]=(0,p.useState)(!!t),W=void 0!==n,Y=W?n:T;(0,p.useEffect)(()=>(function(e){!function(){if(!j()||b)return;let{focus:e}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...t){w=!0,e.apply(this,t)},document.addEventListener("keydown",S,!0),document.addEventListener("keyup",S,!0),document.addEventListener("click",N,!0),window.addEventListener("focus",B,!0),window.addEventListener("blur",L,!1),"undefined"!=typeof PointerEvent?(document.addEventListener("pointerdown",_,!0),document.addEventListener("pointermove",_,!0),document.addEventListener("pointerup",_,!0)):(document.addEventListener("mousedown",_,!0),document.addEventListener("mousemove",_,!0),document.addEventListener("mouseup",_,!0)),b=!0}(),e(M());let t=()=>e(M());return k.add(t),()=>{k.delete(t)}})(O),[]);let H=(0,p.useCallback)(e=>{if(P||E){e.preventDefault();return}W||X(e.target.checked),null==o||o(e)},[W,E,P,o]),V=(0,p.useCallback)(e=>{" "===e.key&&G(!0)},[G]),$=(0,p.useCallback)(e=>{" "===e.key&&G(!1)},[G]),ee=(0,p.useCallback)((e={},t=null)=>({...e,ref:t,"data-active":(0,c.PB)(Z),"data-hover":(0,c.PB)(J),"data-disabled":(0,c.PB)(E),"data-invalid":(0,c.PB)(F),"data-checked":(0,c.PB)(Y),"data-focus":(0,c.PB)(q),"data-focus-visible":(0,c.PB)(q&&z),"data-readonly":(0,c.PB)(P),"aria-hidden":!0,onMouseDown:(0,c.v0)(e.onMouseDown,()=>G(!0)),onMouseUp:(0,c.v0)(e.onMouseUp,()=>G(!1)),onMouseEnter:(0,c.v0)(e.onMouseEnter,()=>K(!0)),onMouseLeave:(0,c.v0)(e.onMouseLeave,()=>K(!1))}),[Z,J,E,F,Y,q,P,z]),{onFocus:et,onBlur:en}=null!=y?y:{},ei=(0,p.useCallback)((e={},t=null)=>{let n=E&&!i;return{...e,id:I,ref:t,type:"radio",name:u,value:A,onChange:(0,c.v0)(e.onChange,H),onBlur:(0,c.v0)(en,e.onBlur,()=>U(!1)),onFocus:(0,c.v0)(et,e.onFocus,()=>U(!0)),onKeyDown:(0,c.v0)(e.onKeyDown,V),onKeyUp:(0,c.v0)(e.onKeyUp,$),checked:Y,disabled:n,readOnly:P,required:Q,"aria-invalid":(0,c.Qm)(F),"aria-disabled":(0,c.Qm)(n),"aria-required":(0,c.Qm)(Q),"data-readonly":(0,c.PB)(P),"aria-describedby":m,style:D}},[E,i,I,u,A,H,en,et,V,$,Y,P,Q,F,m]);return{state:{isInvalid:F,isFocused:q,isChecked:Y,isActive:Z,isHovered:J,isDisabled:E,isReadOnly:P,isRequired:Q},getCheckboxProps:ee,getRadioProps:ee,getInputProps:ei,getLabelProps:(e={},t=null)=>({...e,ref:t,onMouseDown:(0,c.v0)(e.onMouseDown,R),"data-disabled":(0,c.PB)(E),"data-checked":(0,c.PB)(Y),"data-invalid":(0,c.PB)(F)}),getRootProps:(e,t=null)=>({...e,ref:t,"data-disabled":(0,c.PB)(E),"data-checked":(0,c.PB)(Y),"data-invalid":(0,c.PB)(F)}),htmlProps:g}}({...g,isChecked:x,isFocusable:h,isDisabled:A,onChange:y,name:C}),[q,U]=function(e,t){let n={},i={};for(let[a,l]of Object.entries(e))t.includes(a)?n[a]=l:i[a]=l;return[n,i]}(O,F.oE),J=E(U),K=I(m,t),Z=P(),G=Object.assign({},q,z()),T={display:"inline-flex",alignItems:"center",verticalAlign:"top",cursor:"pointer",position:"relative",...o.container},X={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,...o.control},W={userSelect:"none",marginStart:d,...o.label};return(0,i.jsxs)(v.m.label,{className:"chakra-radio",...G,__css:T,children:[(0,i.jsx)("input",{className:"chakra-radio__input",...K}),(0,i.jsx)(v.m.span,{className:"chakra-radio__control",...J,__css:X}),u&&(0,i.jsx)(v.m.span,{className:"chakra-radio__label",...Z,__css:W,children:u})]})});z.displayName="Radio";var O=n(7747),q=n(4225),U=n(1293),J=n(6741),K=n(1163),Z=n(6387),G=!0,T=()=>{let e=(0,K.useRouter)(),t=(0,a.p)();(0,p.useEffect)(()=>{sessionStorage.getItem("auth")||(e.push("/password"),t({title:"403 Forbidden",status:"error",duration:3e3,isClosable:!0}))},[]);let[n,c]=(0,p.useState)(""),A="string"!=typeof n,[h,v]=(0,p.useState)(""),m="string"!=typeof h,[f,x]=(0,p.useState)(""),j="string"!=typeof f,[b,C]=(0,p.useState)("bird"),w=e=>C(e),[I,k]=(0,p.useState)("native"),E=e=>k(e),[P,S]=(0,p.useState)(null),_=async()=>{let e;if(P){let t=await B(P);e=(await L(t)).publicUrl}let{data:t,error:i}=await Z.O.from("animals").insert([{name:n,species:h,family:f,nativity:I,type:b,imageUrl:e}]);i?console.log("Error: ",i):console.log(t)},N=async()=>{A||m||j||!n||!h||!f?t({title:"Incomplete",description:"Please fill in all fields",status:"error",duration:3e3,isClosable:!0}):(t({title:"Uploading...",status:"info",duration:3e3,isClosable:!0}),await _(),e.push("/browse"))};async function B(e){let t="".concat(Date.now(),"_").concat(e.name),{data:n,error:i}=await Z.O.storage.from("images").upload(t,e);return i?(console.error("Error uploading image:",i),null):n.path}async function L(e){let{data:t}=Z.O.storage.from("images").getPublicUrl(e);return t}return(0,i.jsx)(J.Z,{title:"Add Discovery",children:(0,i.jsxs)(l.W,{children:[(0,i.jsx)(r.X,{as:"h1",size:"xl",mt:6,align:"center",children:"Add Discovery"}),(0,i.jsx)(o.i,{}),(0,i.jsx)("br",{}),(0,i.jsxs)(s.NI,{isRequired:"true",isInvalid:A,children:[(0,i.jsx)(d.l,{children:"Name"}),(0,i.jsx)(u.I,{type:"string",placeholder:"Name",value:n,onChange:e=>c(e.target.value),autoComplete:"off"})]}),(0,i.jsxs)(s.NI,{isRequired:"true",isInvalid:m,children:[(0,i.jsx)(d.l,{children:"Species"}),(0,i.jsx)(u.I,{type:"string",placeholder:"Species",value:h,onChange:e=>v(e.target.value),autoComplete:"off"})]}),(0,i.jsxs)(s.NI,{isRequired:"true",isInvalid:j,children:[(0,i.jsx)(d.l,{children:"Family"}),(0,i.jsx)(u.I,{type:"string",placeholder:"Family",value:f,onChange:e=>x(e.target.value),autoComplete:"off"})]}),(0,i.jsxs)(s.NI,{children:[(0,i.jsx)(d.l,{as:"legend",children:"Type"}),(0,i.jsx)(g,{defaultValue:"bird",onChange:e=>w(e),children:(0,i.jsxs)(y,{spacing:"24px",children:[(0,i.jsx)(z,{value:"bird",children:"Bird"}),(0,i.jsx)(z,{value:"reptile",children:"Reptile"})]})})]}),(0,i.jsxs)(s.NI,{children:[(0,i.jsx)(d.l,{as:"legend",children:"Nativity"}),(0,i.jsx)(g,{defaultValue:"native",onChange:e=>E(e),children:(0,i.jsxs)(y,{spacing:"24px",children:[(0,i.jsx)(z,{value:"native",children:"Native"}),(0,i.jsx)(z,{value:"visitor",children:"Visitor"}),(0,i.jsx)(z,{value:"non-native",children:"Non-Native"})]})})]}),(0,i.jsxs)(O.xu,{border:"2px dashed gray",padding:"4",rounded:"md",width:"full",textAlign:"center",marginTop:"20px",children:[(0,i.jsx)("input",{type:"file",id:"file-upload",style:{display:"none"},onChange:e=>{let n=e.target.files[0];S(n),console.log(n),t({title:"File uploaded",description:"".concat(e.target.files[0].name," has been selected."),status:"success",duration:3e3,isClosable:!0})}}),(0,i.jsx)("label",{htmlFor:"file-upload",children:(0,i.jsx)(q.z,{as:"span",colorScheme:"teal",children:"Upload File"})}),P&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(U.x,{mt:2,fontSize:"sm",children:["Selected file: ",P.name]})})]}),(0,i.jsx)(q.z,{mt:4,colorScheme:"teal",onClick:N,children:"Add"})]})})}},6387:function(e,t,n){"use strict";n.d(t,{O:function(){return i}});let i=(0,n(6490).eI)("https://rrfvmcjejgxfwraysyzb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJyZnZtY2plamd4ZndyYXlzeXpiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjYzMzIxMDcsImV4cCI6MjA0MTkwODEwN30.IXcQCREcn6JATcg768JIQABiHx3XgOg4IBRCt_A9_2A")},1163:function(e,t,n){e.exports=n(9090)},5418:function(e,t,n){"use strict";n.d(t,{l:function(){return u}});var i=n(5970),a=n(6554),l=n(7030),r=n(3179),o=n(9653),s=n(5432),d=n(5893),u=(0,a.G)(function(e,t){var n;let a=(0,l.mq)("FormLabel",e),u=(0,r.Lr)(e),{className:A,children:p,requiredIndicator:h=(0,d.jsx)(c,{}),optionalIndicator:v=null,...m}=u,f=(0,i.NJ)(),g=null!=(n=null==f?void 0:f.getLabelProps(m,t))?n:{ref:t,...m};return(0,d.jsxs)(o.m.label,{...g,className:(0,s.cx)("chakra-form__label",u.className),__css:{display:"block",textAlign:"start",...a},children:[p,(null==f?void 0:f.isRequired)?h:v]})});u.displayName="FormLabel";var c=(0,a.G)(function(e,t){let n=(0,i.NJ)(),a=(0,i.e)();if(!(null==n?void 0:n.isRequired))return null;let l=(0,s.cx)("chakra-form__required-indicator",e.className);return(0,d.jsx)(o.m.span,{...null==n?void 0:n.getRequiredIndicatorProps(e,t),__css:a.requiredIndicator,className:l})});c.displayName="RequiredIndicator"},9289:function(e,t,n){"use strict";n.d(t,{i:function(){return d}});var i=n(6554),a=n(7030),l=n(3179),r=n(9653),o=n(5432),s=n(5893),d=(0,i.G)(function(e,t){let{borderLeftWidth:n,borderBottomWidth:i,borderTopWidth:d,borderRightWidth:u,borderWidth:c,borderStyle:A,borderColor:p,...h}=(0,a.mq)("Divider",e),{className:v,orientation:m="horizontal",__css:f,...g}=(0,l.Lr)(e);return(0,s.jsx)(r.m.hr,{ref:t,"aria-orientation":m,...g,__css:{...h,border:"0",borderColor:p,borderStyle:A,...{vertical:{borderLeftWidth:n||u||c||"1px",height:"100%"},horizontal:{borderBottomWidth:i||d||c||"1px",width:"100%"}}[m],...f},className:(0,o.cx)("chakra-divider",v)})});d.displayName="Divider"},7963:function(e,t,n){"use strict";n.d(t,{p:function(){return o}});var i=n(1089),a=n(3988),l=n(7634),r=n(7294);function o(e){let{theme:t}=(0,l.uP)(),n=(0,i.OX)();return(0,r.useMemo)(()=>(0,a.Cj)(t.direction,{...n,...e}),[e,t.direction,n])}}},function(e){e.O(0,[758,695,888,774,179],function(){return e(e.s=1010)}),_N_E=e.O()}]);